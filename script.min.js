globalThis.osmium=globalThis.osmium||{};osmium.Ticker=function({tickerSelector=".os-ticker"}){const tickerElements=document.querySelectorAll(tickerSelector);let resizeTimeoutId;const animationFrameMap=new Map;function setupTickers(){tickerElements.forEach(ticker=>{const viewportWidth=window.innerWidth;const tickerFirstChild=ticker.firstElementChild;const gap=determineGap(ticker,viewportWidth)||0;const tickerSpeed=parseFloat(ticker.getAttribute("ticker-speed"))||10;const pauseOnHover=ticker.getAttribute("ticker-pause")==="true";const reverseDirection=ticker.getAttribute("ticker-reverse")==="true";let isPaused=false;function applyGap(element,gapValue){element.setAttribute("style",`gap: ${gapValue}px;`)}if(pauseOnHover){ticker.addEventListener("mouseenter",()=>{isPaused=true});ticker.addEventListener("mouseleave",()=>{isPaused=false})}(function createDuplicateItems(){applyGap(tickerFirstChild,gap);const firstChildWidth=tickerFirstChild.clientWidth;Array.from(ticker.children).slice(1).forEach(child=>ticker.removeChild(child));if(firstChildWidth<viewportWidth){const numDuplicates=Math.round(3*viewportWidth/firstChildWidth-1);createClones(numDuplicates,tickerFirstChild,ticker,reverseDirection)}else{createClones(2,tickerFirstChild,ticker,reverseDirection)}applyGap(ticker,gap);if(reverseDirection){ticker.style.justifyContent="flex-end"}})();function animate(lastTime,initial){const itemWidth=tickerFirstChild.clientWidth;const frameId=requestAnimationFrame(currentTime=>{if(!initial){initial=lastTime}if(!isPaused){const timeElapsed=(currentTime-initial)*itemWidth/(1e3*tickerSpeed);const direction=reverseDirection?1:-1;Array.from(ticker.children).forEach(child=>{const currentTransform=parseFloat(child.style.transform.split("(")[1])||0;const delta=direction*timeElapsed;const newPosition=currentTransform+delta;const overflowAdjustment=reverseDirection?newPosition>=itemWidth+gap?"0px":`${newPosition}px`:newPosition<=-1*(itemWidth+gap)?"0px":`${newPosition}px`;child.style.transform=`translateX(${overflowAdjustment})`})}animate(currentTime,lastTime)});animationFrameMap.set(ticker,frameId)}requestAnimationFrame(animate)})}setupTickers();window.addEventListener("resize",()=>{clearTimeout(resizeTimeoutId);resizeTimeoutId=setTimeout(()=>{animationFrameMap.forEach((value,key)=>cancelAnimationFrame(value));animationFrameMap.clear();setupTickers()},200)});function determineGap(element,width){const mobileGap=element.getAttribute("ticker-mobile-gap");const tabletGap=element.getAttribute("ticker-tablet-gap");const isMobile=width>0&&width<=479;const isTablet=tabletGap&&width>479&&width<=1024;return mobileGap&&isMobile?parseInt(mobileGap):tabletGap&&isTablet?parseInt(tabletGap):parseInt(element.getAttribute("ticker-gap"))}function createClones(count,original,container,prepend){for(let i=0;i<count;i++){const clone=original.cloneNode(true);prepend?container.insertBefore(clone,container.firstElementChild):container.appendChild(clone)}}}; 